#:kivy 2.0.0
#:import date datetime.date
<ManageStudents>
    Background:
    Navbar:
    FloatLayout:
        size: root.width, root.height
        MDLabel:
            pos_hint: {'center_x': .5, 'y': .77}
            halign: 'center'
            theme_text_color: "Custom"
            text_color: 0, 150/255, 136/255, 1
            text: "Students"
            font_style: 'H6'
            padding: (10,15)
            size_hint_y: None
            height: self.texture_size[1]
            font_size:30
        MDCard:
            size_hint : (0.9,0.7)
            pos_hint: {'center_x': .5, 'center_y': .45}
            elevation: 20
            orientation: 'vertical'
            spacing: 2
            MDGridLayout:
                size: (self.parent.width,60)
                height: self.minimum_height
                size_hint_x: None
                size_hint_y: None
                cols: 3
                row_default_height: 60
                row_force_default: True
                adaptive_width: True
                MDLabel:
                    text: "Name"
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
                MDLabel:
                    text: "Role"
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
                MDLabel:
                    text: "Package"
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
            
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size: (self.parent.width,self.parent.height-60)
                GridLayout:
                    id: grid
                    size_hint_y: None
                    height: self.minimum_height
                    cols: 3
                    row_default_height: 60
                    adaptive_width: True

    MDGridLayout:
        size_hint: (1,0.07)
        cols: 4
        MDRaisedButton:
            id: 0
            text: str(date.today().year)
            font_size: 20
            md_bg_color: app.theme_cls.accent_color
            size_hint:None,None
            size: (self.parent.width/4,self.parent.height)
            on_press: root.load_students(0)
        MDRaisedButton:
            id: 1
            text: str(date.today().year+1)
            font_size: 20
            md_bg_color: app.theme_cls.accent_color
            size_hint:None,None
            size: (self.parent.width/4,self.parent.height)
            on_press: root.load_students(1)
        MDRaisedButton:
            id: 2
            text: str(date.today().year+2)
            font_size: 20
            md_bg_color: app.theme_cls.accent_color
            size_hint:None,None
            size: (self.parent.width/4,self.parent.height)
            on_press: root.load_students(2)
        MDRaisedButton:
            id: 3
            text: str(date.today().year+3)
            font_size: 20
            md_bg_color: app.theme_cls.accent_color
            size_hint:None,None
            size: (self.parent.width/4,self.parent.height)
            on_press: root.load_students(3)
        

<StudentDialog>:
    orientation: "vertical"
    spacing: "8dp"
    size_hint_y: None
    height: 370
    MDTextField:
        id: dialog_name
        hint_text: "Name"
    MDTextField:
        id: dialog_phone
        hint_text: "PhoneNo"
    MDTextField:
        id: dialog_email
        hint_text: "Email"
    MDGridLayout:
        cols: 2
        width: self.parent.width
        spacing: 20
        MDLabel:
            text: "Passing Year"
        MDRectangleFlatButton:
            id: dialog_passyear
            on_release: root.yearmenu.open()
    MDGridLayout:
        cols: 2
        width: self.parent.width
        spacing: 20
        MDLabel:
            text: "Branch"
        MDRectangleFlatButton:
            id: dialog_branch
            on_release: root.branchmenu.open()
    MDRoundFlatButton:
        text: "Edit"
        on_press: app.root.get_screen('manage_students').edit_student()

<StudentTitle>
    text: "[u][ref=world]7[/ref][/u]"
    markup : True
    theme_text_color: 'Custom'
    text_color: app.theme_cls.primary_color
    font_size: 20
    halign: 'center'
    size_hint_x: 0.3
    on_ref_press: app.root.get_screen('manage_students').full_details(self.id)

<StudentLabel>
    text: "E-Resources"
    font_size: 20
    size_hint_x: 0.3
    halign: 'center'