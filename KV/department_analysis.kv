#:kivy 2.0.0
#:import date datetime.date
<DepartmentAnalysis>
    Background:
    Navbar:
    FloatLayout:
        size: root.width, root.height
        MDLabel:
            pos_hint: {'center_x': .5, 'y': .79}
            halign: 'center'
            theme_text_color: "Custom"
            text_color: 0, 150/255, 136/255, 1
            text: "Placed Students"
            font_style: 'H6'
            padding: (10,15)
            size_hint_y: None
            height: self.texture_size[1]
            font_size:30
        MDCard:
            size_hint : (0.9,0.7)
            pos_hint: {'center_x': .5, 'center_y': .45}
            elevation: 20
            orientation: 'vertical'
            spacing: 2
            ScrollView:
                GridLayout:
                    id: grid
                    cols: 4
                    size_hint: None, None
                    height: self.minimum_height
                    width: self.minimum_width
                    row_default_height: 60
                    col_default_width: 240
                    spacing: [0,2]

    # MDIconButton:
    #     icon:"file-export"
    #     md_bg_color: app.theme_cls.primary_color
    #     pos_hint:{"x":.45,"y":.01}
    #     on_press: root.export_data()
    # Button:
    #     text:"more"
    #     size_hint: (0.15,0.05)
    #     pos_hint: {'center_x': .8,'center_y': .05}
    #     on_press: root.prepare_graphs()
    #     on_press: root.manager.current="department_graphs"
    #     on_press: root.manager.stack.append(root.name)

    # MDRaisedButton:
    #     text:"More"
    #     size_hint: (0.15,0.05)
    #     pos_hint: {'center_x': .8,'center_y': .05}
    #     font_size:16
    #     on_press: root.prepare_graphs()
    #     on_press: root.manager.current="department_graphs"
    #     on_press: root.manager.stack.append(root.name)


<DepartmentTableTitleLabel>
    text: ""
    font_size: 20
    halign: 'center'
    theme_text_color: "Custom"
    md_bg_color: app.theme_cls.primary_color
    # text_color: 1, 1, 1, 1
<DepartmentTableLabel>
    text: ""
    font_size: 20
    halign: 'center'
<DepartmentGridYear>
    cols: 3
    padding: [5,0]
    spacing: [5,0]

<MySwiper@MDSwiperItem>

<DepartmentGraphs>
    Navbar:
    # Background:
    MDSwiper:
        id: my_swiper
        size_hint_y: None
        pos_hint: {'center_x':0.5, 'center_y':0.45}
        height:root.height-dp(120)
        # size_y:root.height-dp(200)
        MySwiper:
            FitImage:
                id: 1
                source:"Graphs\dept_1.png"
                radius:[20,]
        MySwiper:
            FitImage:
                id: 2
                source:"Graphs\dept_2.png"
                radius:[20,]
        MySwiper:
            FitImage:
                id: 3
                source:"Graphs\dept_3.png"
                radius:[20,]
        MySwiper:
            FitImage:
                id: 4
                source:"Graphs\dept_4.png"
                radius:[20,]

<DepartmentBasicDetails>
    Background:
    Navbar:
    FloatLayout:
        size: root.width, root.height
        MDLabel:
            pos_hint: {'center_x': .5, 'y': .79}
            halign: 'center'
            theme_text_color: "Custom"
            text_color: 0, 150/255, 136/255, 1
            text: "Placed Students"
            font_style: 'H6'
            padding: (10,15)
            size_hint_y: None
            height: self.texture_size[1]
            font_size:30
        MDCard:
            size_hint : (0.9,0.7)
            pos_hint: {'center_x': .5, 'center_y': .45}
            elevation: 20
            orientation: 'vertical'
            spacing: 2
            MDGridLayout:
                size: (self.parent.width,60)
                height: self.minimum_height
                size_hint_x: None
                size_hint_y: None
                cols: 4
                row_default_height: 60
                row_force_default: True
                adaptive_width: True
                MDLabel:
                    text: "Companies"
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
                MDLabel:
                    text: str(date.today().year)
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
                MDLabel:
                    text: str(date.today().year-1)
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color
                MDLabel:
                    text: str(date.today().year-2)
                    font_size: 20
                    halign: 'center'
                    md_bg_color: app.theme_cls.primary_color

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                size: (self.parent.width,self.parent.height-60)
                GridLayout:
                    id: grid
                    size_hint_y: None
                    height: self.minimum_height
                    cols: 4
                    row_default_height: 60
                    adaptive_width: True

    # MDIconButton:
    #     icon:"file-export"
    #     md_bg_color: app.theme_cls.primary_color
    #     pos_hint:{"x":.45,"y":.01}
    #     on_press: root.export_data()

    MDRaisedButton:
        text:"Statistics"
        size_hint: (0.15,0.05)
        pos_hint: {'center_x': .8,'center_y': .05}
        font_size:16
        on_press: root.prepare_graphs()
        on_press: root.manager.current="department_graphs"
        on_press: root.manager.stack.append(root.name)
    
    MDRaisedButton:
        text:"Show Detail Data"
        size_hint: (0.2,0.05)
        pos_hint: {'center_x': .2,'center_y': .05}
        font_size:16
        on_press: root.load_department()
        on_press: root.manager.current="department_analysis"
        on_press: root.manager.stack.append(root.name)
